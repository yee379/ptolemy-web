<div class="hero-unit span12">
  <h1>
    Network > TechCoords
  </h1>
  <p>
    Tech Coordinators Network Pages
  </p>
</div>

<div class="row-fluid">
  
  <div class="span11 offset1">
    <ul class="thumbnails">

      <%= render :partial => "server_location" %>

      <%= render :partial => "switch_ports_with_server_location" %>
      
      <li class="span4">
        <h3>
          Connections
        </h3>
        <p>
          What switch is a host connected to
          <form class="form-search" action="/hosts" method="GET">
            <div class="input-append">
              <input id="hosts_autocomplete" class="ajax-typeahead span9 input-medium search-query" name="q" type="text">
              <button class="btn" type="button">Search</button>
            </div>
          </form>
        </p>
      </li>
      
    </ul>
  </div>
</div>


<%= coffee_script_tag do %>

jQuery -> 
  # $('#ports_autocomplete').typeahead(
  #   source: ( q, process ) ->
  #     $.get( '/api/devices/list', { query: q }, (d) ->
  #       process _.map( d, (n) ->
  #         return n.i
  #       )
  #     )
  # )

  $('#hosts_autocomplete').typeahead(
    source: ( q, process ) ->
      $.get( '/api/hostnames/list', { query: q }, (d) ->
        process _.map( d, (n) ->
          return n.i
        )
      )
  )

<% end %>
